{% extends 'base.html.twig' %}

{% block title %}
  Mes Collègues
{% endblock %}

{% block body %}
  {% include 'components/_searchbar.html.twig' %}
  <h1>
    Mes Collègues
  </h1>

  <section class="row row-cols-1 row-cols-md-2 row-col-lg-3 g-4">
  {% for friend in user.friend %}
    <div class="card mb-3 d-flex flex-row w-100">
        <img src="{{ friend.picture }}" class="img-fluid rounded-start w-50" alt="...">
        <div class="card-body w-50">
            <h5 class="card-title">{{ friend.username }}</h5>
            <span class="badge bg-danger card-text">
              Member since: {{ user.memberSince ? user.memberSince|date('Y') : '' }}
            </span>
            <span class="badge bg-secondary card-text">{{ user.skill.name }}</span>
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-chat-dots m-2" viewBox="0 0 16 16">
                <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                <path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"/>
              </svg>
            </span>
        </div>
    </div>

  {% else %}
        <div class="alert alert-danger" role="alert">
        You are not yet connected to any coworker!
        </div>
  {% endfor %}
  </section>

  {# {% for user in user.friend %}
    <div class="card mb-3" style="max-width: 540px;">
      <div class="row g-0">
        <div class="col-md-4">
          <img src="{{ user.picture }}" class="img-fluid rounded-start" alt="..." />
        </div>
        <div class="col-md-8">
          <div class="card-body">
            <h2 class="card-title">
              {{ user.userName }}
            </h2>
            <p class="card-text">
              {{ user.skill.name }}
            </p>
            <p class="card-text">
              <small class="text-muted">Membre depuis: {{ user.memberSince ? user.memberSince|date('Y-m-d') : '' }} </small>
            </p>
          </div>
        </div>
      </div>
    </div>

    <a href="{{ path(
        'user_show',
        {
          id: user.id
        }
      ) }}">
      show
    </a>
  {% else %}
    <tr>
      <td colspan="9">
        no records found
      </td>
    </tr>
  {% endfor %} #}

  <footer class="bg-light d-flex flex-row align-items-center justify-content-evenly text-center p-4">
    <a href="{{ path('home') }}"><svg xmlns="http://www.w3.org/2000/svg"
      width="30"
      height="30"
      fill="currentColor"
      class="bi bi-search"
      viewBox="0 0 16 16">
      <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
    </svg></a>
    <a href="{{ path("received") }}"><svg xmlns="http://www.w3.org/2000/svg"
      width="25"
      height="25"
      fill="currentColor"
      class="bi bi-inboxes-fill"
      viewBox="0 0 16 16">
      <path d="M4.98 1a.5.5 0 0 0-.39.188L1.54 5H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0A.5.5 0 0 1 10 5h4.46l-3.05-3.812A.5.5 0 0 0 11.02 1H4.98zM3.81.563A1.5 1.5 0 0 1 4.98 0h6.04a1.5 1.5 0 0 1 1.17.563l3.7 4.625a.5.5 0 0 1 .106.374l-.39 3.124A1.5 1.5 0 0 1 14.117 10H1.883A1.5 1.5 0 0 1 .394 8.686l-.39-3.124a.5.5 0 0 1 .106-.374L3.81.563zM.125 11.17A.5.5 0 0 1 .5 11H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0 .5.5 0 0 1 .5-.5h5.5a.5.5 0 0 1 .496.562l-.39 3.124A1.5 1.5 0 0 1 14.117 16H1.883a1.5 1.5 0 0 1-1.489-1.314l-.39-3.124a.5.5 0 0 1 .121-.393z" />
    </svg></a>
  </footer>
{% endblock %}
